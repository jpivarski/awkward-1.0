- name: awkward_IndexedArray_simplify
  specializations:
    - name: awkward_IndexedArray32_simplifyU32_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[int32_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[uint32_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArrayU32_simplifyU32_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[uint32_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[uint32_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArray64_simplify64_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[int64_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[int64_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArray32_simplify32_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[int32_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[int32_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArrayU32_simplify32_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[uint32_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[int32_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArrayU32_simplify64_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[uint32_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[int64_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArray64_simplify32_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[int64_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[int32_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArray64_simplifyU32_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[int64_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[uint32_t]
        - inneroffset: int64_t
        - innerlength: int64_t
    - name: awkward_IndexedArray32_simplify64_to64
      args:
        - toindex: List[int64_t]
        - outerindex: List[int32_t]
        - outeroffset: int64_t
        - outerlength: int64_t
        - innerindex: List[int64_t]
        - inneroffset: int64_t
        - innerlength: int64_t
  inparams: ['outerindex', 'outeroffset', 'outerlength', 'innerindex', 'inneroffset', 'innerlength']
  outparams: ['toindex']
  definition: |
    def awkward_IndexedArray_simplify(
        toindex, outerindex, outeroffset, outerlength, innerindex, inneroffset, innerlength
    ):
        for i in range(outerlength):
            j = outerindex[outeroffset + i]
            if j < 0:
                toindex[i] = -1
            else:
                if j >= innerlength:
                    raise ValueError("index out of range")
                else:
                    toindex[i] = innerindex[inneroffset + j]
  tests:
    - args:
        toindex: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        outerindex: [2, 3, 6, 5, 3, 7, 9, 5, 4]
        outeroffset: 0
        outerlength: 3
        innerindex: [1, 2, 5, 4, 2, 3, 1, 3, 4]
        inneroffset: 0
        innerlength: -2
      successful: False
    - args:
        toindex: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        outerindex: [2, 5, 3, 4, 7, 6, 3, 4, 5]
        outeroffset: 0
        outerlength: 3
        innerindex: [1, 4, 2, 3, 6, 4, 2, 3, 1]
        inneroffset: 0
        innerlength: 10
      successful: True
      results:
        toindex: [2, 4, 3]
