- name: awkward_Identities_getitem_carry
  specializations:
    - name: awkward_Identities32_getitem_carry_64
      args:
        - newidentitiesptr: List[int32_t]
        - identitiesptr: List[int32_t]
        - carryptr: List[int64_t]
        - lencarry: int64_t
        - offset: int64_t
        - width: int64_t
        - length: int64_t
    - name: awkward_Identities64_getitem_carry_64
      args:
        - newidentitiesptr: List[int64_t]
        - identitiesptr: List[int64_t]
        - carryptr: List[int64_t]
        - lencarry: int64_t
        - offset: int64_t
        - width: int64_t
        - length: int64_t
  inparams: ['identitiesptr', 'carryptr', 'lencarry', 'offset', 'width', 'length']
  outparams: ['newidentitiesptr']
  definition: |
    def awkward_Identities_getitem_carry(
        newidentitiesptr, identitiesptr, carryptr, lencarry, offset, width, length
    ):
        for i in range(lencarry):
            if carryptr[i] >= length:
                raise ValueError("index out of range")
            for j in range(width):
                newidentitiesptr[(width * i) + j] = identitiesptr[
                    (offset + (width * carryptr[i])) + j
                ]
  tests:
    - args:
        newidentitiesptr: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        identitiesptr: [1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1]
        carryptr: [0, 1, 0, 2, 1, 2, 0, 1, 2, 0]
        lencarry: 3
        offset: 1
        width: 3
        length: -1
      successful: False
    - args:
        newidentitiesptr: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        identitiesptr: [1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1]
        carryptr: [0, 2, 0, 0, 1, 0, 2, 1, 1, 1]
        lencarry: 3
        offset: 1
        width: 3
        length: 5
      successful: True
      results:
        newidentitiesptr: [0, 0, 1, 0, 1, 0, 0, 0, 1]
    - args:
        newidentitiesptr: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        identitiesptr: [1, 1, 2, -2, 0, 2, 0, 2, 1, 1]
        carryptr: [0, 1, 0, 2, 1, 2, 0, 1, 2, 0]
        lencarry: 3
        offset: 0
        width: 3
        length: -1
      successful: False
    - args:
        newidentitiesptr: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        identitiesptr: [1, 1, 2, -2, 0, 2, 0, 2, 1, 1]
        carryptr: [0, 2, 0, 0, 1, 0, 2, 1, 1, 1]
        lencarry: 3
        offset: 0
        width: 3
        length: 5
      successful: True
      results:
        newidentitiesptr: [1, 1, 2, 0, 2, 1, 1, 1, 2]
