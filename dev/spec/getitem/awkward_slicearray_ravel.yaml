- name: awkward_slicearray_ravel
  specializations:
    - name: awkward_slicearray_ravel_64
      args:
        - toptr: List[int64_t]
        - fromptr: List[int64_t]
        - ndim: int64_t
        - shape: List[int64_t]
        - strides: List[int64_t]
  inparams: ['fromptr', 'ndim', 'shape', 'strides']
  outparams: ['toptr']
  definition: |
    def awkward_slicearray_ravel(toptr, fromptr, ndim, shape, strides):
        if ndim == 1:
            for i in range(shape[0]):
                toptr[i] = fromptr[i * strides[0]]
        else:
            for i in range(shape[0]):
                err = awkward_slicearray_ravel(
                    toptr[i * shape[1]],
                    fromptr[i * strides[0]],
                    ndim - 1,
                    shape[1],
                    strides[1],
                )
                if err.str != nullptr:
                    return err
