- name: awkward_ByteMaskedArray_reduce_next_64
  args:
    - nextcarry: List[int64_t]
    - nextparents: List[int64_t]
    - outindex: List[int64_t]
    - mask: List[int8_t]
    - maskoffset: int64_t
    - parents: List[int64_t]
    - parentsoffset: int64_t
    - length: int64_t
    - validwhen: bool
  inparams: ['mask', 'maskoffset', 'parents', 'parentsoffset', 'length', 'validwhen']
  outparams: ['nextcarry', 'nextparents', 'outindex']
  definition: |
    def awkward_ByteMaskedArray_reduce_next_64(
        nextcarry,
        nextparents,
        outindex,
        mask,
        maskoffset,
        parents,
        parentsoffset,
        length,
        validwhen,
    ):
        k = 0
        for i in range(length):
            if (mask[maskoffset + i] != 0) == validwhen:
                nextcarry[k] = i
                nextparents[k] = parents[parentsoffset + i]
                outindex[i] = k
                k = k + 1
            else:
                outindex[i] = -1
  tests:
    - args:
        nextcarry: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        nextparents: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        outindex: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        mask: [1, 1, 1, 1, 1]
        maskoffset: 0
        parents: [1, 0, 0, 1, 1, 1, 0, 0, 1, 0, 1, 0, 1, 1]
        parentsoffset: 1
        length: 4
        validwhen: True
      successful: True
      results:
        nextcarry: [0, 1, 2, 3]
        nextparents: [0, 0, 1, 1]
        outindex: [0, 1, 2, 3]
    - args:
        nextcarry: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        nextparents: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        outindex: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
        mask: [1, 1, 1, 1, 1]
        maskoffset: 0
        parents: [1, 1, 2, 2, 0, 2, 0, 2, 1, 1]
        parentsoffset: 0
        length: 3
        validwhen: False
      successful: True
      results:
        nextcarry: []
        nextparents: []
        outindex: [-1, -1, -1]
